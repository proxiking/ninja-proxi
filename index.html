<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Horizon</title>
<style>
    body, html {
        margin: 0; padding: 0; height: 100%; overflow: hidden;
        background: #000;
        color: white;
        font-family: "Segoe UI", Arial, sans-serif;
        user-select: none;
        touch-action: manipulation;
    }

    /* Deep space starfield + nebula layers */
    #bg { position:fixed; top:0; left:0; width:100%; height:100%; z-index:-2; }
    .stars1 { background: transparent url('https://i.imgur.com/hA2gZcC.gif') repeat top center; opacity:0.9; }
    .stars2 { background: transparent url('https://i.imgur.com/8h0X9cn.gif') repeat top center; opacity:0.6; animation: drift1 250s linear infinite; }
    .stars3 { background: transparent url('https://i.imgur.com/2P3sZ7t.gif') repeat top center; opacity:0.4; animation: drift2 350s linear infinite; }
    .nebula { background: radial-gradient(circle at 30% 70%, #4a0080 0%, transparent 50%), radial-gradient(circle at 80% 20%, #00ffff44 0%, transparent 50%); opacity:0.35; }
    @keyframes drift1 { 0% {background-position:0 0;} 100% {background-position: -10000px 5000px;} }
    @keyframes drift2 { 0% {background-position:0 0;} 100% {background-position: 10000px -5000px;} }

    /* Glowing planet in corner */
    .planet {
        position: fixed; bottom: -200px; right: -200px; width: 600px; height: 600px;
        background: radial-gradient(circle, #00ffff88, #4000ff44, transparent 70%);
        border-radius: 50%; z-index: -1; opacity: 0.6;
        box-shadow: 0 0 150px #00ffff, inset 0 0 80px #4000ff;
        animation: pulse 20s infinite alternate;
    }
    @keyframes pulse { 0% {transform: scale(1);} 100% {transform: scale(1.15);} }

    #topbar {
        position: fixed; top: 0; left: 0; width: 100%; height: 70px;
        background: rgba(10,0,30,0.85); backdrop-filter: blur(15px);
        border-bottom: 2px solid #00ffff44;
        display: flex; align-items: center; justify-content: space-between;
        padding: 0 40px; box-sizing: border-box; z-index: 20;
        font-size: 28px; font-weight: bold; letter-spacing: 4px; text-shadow: 0 0 15px #00ffff;
    }
    #time { font-size: 20px; opacity:0.9; }
    #home-btn {
        position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
        width: 80px; height: 80px; background: rgba(0,255,255,0.15);
        border-radius: 50%; display:flex; align-items:center; justify-content:center;
        font-size: 45px; z-index: 100; backdrop-filter: blur(12px);
        box-shadow: 0 0 30px #00ffff, inset 0 0 20px #4000ff;
        border: 3px solid #00ffff44;
    }

    .screen { display: none; height: 100vh; padding-top: 80px; box-sizing: border-box; }
    #home-screen { display: block; }

    .app-row {
        display: flex; overflow-x: auto; padding: 30px 20px 120px;
        scroll-snap-type: x mandatory; gap: 35px;
        scrollbar-width: none;
    }
    .app-row::-webkit-scrollbar { display: none; }

    .app-icon {
        flex: 0 0 240px; height: 240px; scroll-snap-align: center;
        background: rgba(30,0,80,0.5); border-radius: 30px;
        text-align: center; cursor: pointer; transition: all 0.4s;
        box-shadow: 0 15px 40px rgba(0,0,0,0.8);
        backdrop-filter: blur(12px); border: 2px solid transparent;
    }
    .app-icon:hover, .app-icon:active { transform: scale(1.2) translateY(-20px); box-shadow: 0 0 60px #00ffff; border: 2px solid #00ffff; }

    .app-icon .emoji { font-size: 110px; margin: 35px 0 15px; display: block; filter: drop-shadow(0 0 20px #00ffff); }
    .app-icon .title { font-size: 22px; font-weight: bold; text-shadow: 0 0 10px #00ffff; }

    .store-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
        gap: 35px; padding: 40px 25px;
    }
    .store-card {
        background: rgba(30,0,80,0.45); border-radius: 25px; padding: 25px;
        text-align: center; backdrop-filter: blur(12px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.7); border: 1px solid #00ffff33;
        transition: all 0.3s;
    }
    .store-card:hover { transform: translateY(-15px); box-shadow: 0 0 50px #00ffff; }
    .store-card .emoji { font-size: 90px; margin: 15px 0; filter: drop-shadow(0 0 20px #00ffff); }
    .store-card button {
        margin-top: 20px; padding: 14px 40px; background: linear-gradient(45deg, #4000ff, #00ffff);
        color: #000; border: none; border-radius: 50px; font-weight: bold; cursor: pointer;
        box-shadow: 0 0 20px #00ffff;
    }

    #app-viewer iframe {
        width: 100%; height: calc(100vh - 100px); border: none; background: #000;
    }

    /* Simple built-in apps */
    #calc-display { font-size: 52px; background: rgba(0,0,0,0.6); padding: 25px; border-radius: 20px; margin: 20px; }
    .calc-row button { width: 80px; height: 80px; margin: 10px; font-size: 32px; border-radius: 20px; background: rgba(255,255,255,0.1); color: white; }
</style>
</head>
<body>

<div id="bg">
    <div class="stars1"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>
    <div class="nebula"></div>
    <div class="planet"></div>
</div>

<div id="topbar">
    <div>Horizon <span style="font-size:0.6em; opacity:0.8;">Cosmic CFW</span></div>
    <div id="time"></div>
</div>

<div onclick="showScreen('home-screen')" id="home-btn">ğŸ </div>

<!-- HOME SCREEN -->
<div id="home-screen" class="screen">
    <div style="text-align:center; padding:20px 0; font-size:32px; text-shadow:0 0 20px #00ffff;">
        Horizon Cosmic Edition
    </div>
    <div class="app-row">
        <div class="app-icon" onclick="showScreen('store-screen')">
            <span class="emoji">ğŸŒŒ</span>
            <div class="title">Cosmic Store</div>
        </div>
        <div class="app-icon" onclick="launchApp('ZombsRoyale.io', 'https://zombsroyale.io')">
            <span class="emoji">ğŸ§ŸğŸ”«</span>
            <div class="title">ZombsRoyale</div>
        </div>
        <div class="app-icon" onclick="launchApp('Starblast.io', 'https://starblast.io')">
            <span class="emoji">ğŸš€â˜„ï¸</span>
            <div class="title">Starblast</div>
        </div>
        <div class="app-icon" onclick="launchApp('Krunker.io', 'https://krunker.io')">
            <span class="emoji">ğŸ”«</span>
            <div class="title">Krunker</div>
        </div>
        <div class="app-icon" onclick="showScreen('calc-screen')">
            <span class="emoji">ğŸ§®âœ¨</span>
            <div class="title">Stellar Calc</div>
        </div>
        <div class="app-icon" onclick="showScreen('todo-screen')">
            <span class="emoji">ğŸ“ğŸŒŸ</span>
            <div class="title">Nebula Notes</div>
        </div>
        <div class="app-icon" onclick="showScreen('browser-screen')">
            <span class="emoji">ğŸŒ</span>
            <div class="title">Void Browser</div>
        </div>
    </div>
</div>

<!-- COSMIC STORE -->
<div id="store-screen" class="screen">
    <h1 style="text-align:center; margin:30px; text-shadow:0 0 20px #00ffff;">Horizon Cosmic Store</h1>
    <div class="store-grid">
        <!-- Retro arcade classics -->
        <div class="store-card">
            <span class="emoji">ğŸ‘¾ğŸš€</span>
            <h3>Galaga Nexus</h3>
            <p>Defend the galaxy from waves of invaders</p>
            <button onclick="launchApp('Galaga', 'https://archive.org/embed/arcade_galaga')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸ›¸â˜„ï¸</span>
            <h3>Space Invaders</h3>
            <button onclick="launchApp('Space Invaders', 'https://archive.org/embed/arcade_invaders')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸŒ‘ğŸš€</span>
            <h3>Asteroids</h3>
            <button onclick="launchApp('Asteroids', 'https://archive.org/embed/arcade_asteroid')">Launch</button>
        </div>

        <!-- Modern .io games -->
        <div class="store-card">
            <span class="emoji">ğŸ§ŸğŸ”«ğŸ†</span>
            <h3>ZombsRoyale.io</h3>
            <p>100-player 2D battle royale (zombies!)</p>
            <button onclick="launchApp('ZombsRoyale.io', 'https://zombsroyale.io')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸš€â­</span>
            <h3>Starblast.io</h3>
            <p>Space mining & multiplayer ship combat - perfect for the theme!</p>
            <button onclick="launchApp('Starblast.io', 'https://starblast.io')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸ”«ğŸ’¥</span>
            <h3>Krunker.io</h3>
            <p>Fast-paced voxel FPS</p>
            <button onclick="launchApp('Krunker.io', 'https://krunker.io')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸ¥šğŸ”«</span>
            <h3>Shell Shockers</h3>
            <p>Egg-based multiplayer shooter</p>
            <button onclick="launchApp('Shell Shockers', 'https://shellshock.io')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">âš”ï¸ğŸ—ï¸</span>
            <h3>1v1.LOL</h3>
            <p>Build & shoot battles</p>
            <button onclick="launchApp('1v1.LOL', 'https://1v1.lol')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸŸ¡ğŸŸ¢</span>
            <h3>Agar.io</h3>
            <p>Eat to grow, dominate the leaderboard</p>
            <button onclick="launchApp('Agar.io', 'https://agar.io')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸâœ¨</span>
            <h3>Slither.io</h3>
            <p>Modern snake battle</p>
            <button onclick="launchApp('Slither.io', 'https://slither.io')">Launch</button>
        </div>
        <div class="store-card">
            <span class="emoji">ğŸŒŒğŸ”«</span>
            <h3>Venge.io</h3>
            <p>Sci-fi arena shooter</p>
            <button onclick="launchApp('Venge.io', 'https://venge.io')">Launch</button>
        </div>
    </div>
</div>

<!-- Built-in apps stay the same -->
<!-- (calc-screen, todo-screen, browser-screen unchanged for brevity - copy from previous version) -->

<!-- APP / GAME VIEWER -->
<div id="app-viewer-screen" class="screen">
    <h1 id="game-title" style="text-align:center; margin:30px 0; text-shadow:0 0 20px #00ffff;">Loading...</h1>
    <div id="app-viewer"><iframe sandbox="allow-scripts allow-same-origin allow-modals allow-popups allow-top-navigation allow-downloads allow-presentation" allowfullscreen loading="lazy"></iframe></div>
</div>

<script>
function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
    document.getElementById(id).style.display = 'block';
}

function launchApp(title, url) {
    document.getElementById('game-title').innerText = title;
    const iframe = document.querySelector('#app-viewer-screen iframe');
    iframe.src = url;
    showScreen('app-viewer-screen');
}

// Time update
setInterval(() => {
    const now = new Date();
    document.getElementById('time').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
}, 1000);

// Rest of your calc / todo / browser code from the previous version here (unchanged)
// ... (copy-paste the calculator, todo, and browser scripts from the last version)

</script>
</body>
</html>
